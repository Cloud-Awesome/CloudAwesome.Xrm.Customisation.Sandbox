<?xml version="1.0" encoding="utf-8" ?>
<PluginManifest>
  <PluginAssemblies>
    <PluginAssembly>
      <!-- 1. Get Base64 from this file and Upsert it to CRM. Add to solution -->
      <Name>SamplePluginAssembly</Name>
      <FriendlyName>Contact Plugins</FriendlyName>
      <Assembly>../../../SamplePluginAssembly/bin/debug/SamplePluginAssembly.dll</Assembly>
      <IsolationMode>Sandbox</IsolationMode>
      <SolutionName>...</SolutionName>
      <Plugins>
        <!-- 2. For each plugin listed here, register/upsert it to the assembly from #1. Add to solution -->
        <Plugin>
          <Name>SamplePluginAssembly.UpdateContact</Name>
          <FriendlyName>Update Contact</FriendlyName>
          <Description>...</Description>
          <Steps>
            <!-- 3. For each step listed here, register/upsert it against its parent plugin from #2 -->
            <Step>
              <Name>Create Contact: On Create of Contact</Name>
              <FriendlyName>Create Contact: On Create of Contact</FriendlyName>
              <Description>...</Description>
              <stage>PostOperation</stage>
              <ExecutionMode>Synchronous</ExecutionMode>
              <Message>Create</Message>
              <PrimaryEntity>contact</PrimaryEntity>
              <ExecutionOrder>1</ExecutionOrder>
              <AsyncAutoDelete>false</AsyncAutoDelete>
              <FilteringAttributes>
                <Attribute>firstname</Attribute>
                <Attribute>middlename</Attribute>
                <Attribute>lastname</Attribute>
              </FilteringAttributes>
              <UnsecureConfiguration>...</UnsecureConfiguration>
              <SecureConfiguration>...</SecureConfiguration>
              <EntityImages>
                  <!-- 4. For each image listed here, upsert it to the parent plugin step from #4 -->
                <EntityImage>
                  <Name>ContactImage</Name>
                  <Type>PreImage</Type>
                  <Attributes>
                    <Attribute>firstname</Attribute>
                    <Attribute>middlename</Attribute>
                    <Attribute>lastname</Attribute>
                  </Attributes>
                </EntityImage>
              </EntityImages>
            </Step>
          </Steps>
        </Plugin>
        <!--<Plugin>
          <Name>CloudAwesome.Xrm.Plugins.ContactUpdatePlugin</Name>
          <FriendlyName>Update Contact</FriendlyName>
          <Description>...</Description>
        </Plugin>-->
      </Plugins>
    </PluginAssembly>
  </PluginAssemblies>

  <SolutionName>...</SolutionName>
  <!-- CDS connection details -->
  <!-- Can provide any of the below, or none if provided outside of config file (e.g. manual in CLI or from Key Vault -->
  <ConnectionType>AppRegistration</ConnectionType>
  <CdsConnectionString>...</CdsConnectionString>
  <CdsUrl>...</CdsUrl>
  <CdsUserName>...</CdsUserName>
  <CdsPassword>...</CdsPassword>
  <CdsAppId>...</CdsAppId>
  <CdsAppSecret>...</CdsAppSecret>
  <!-- CDS connection details -->

  <!-- post-MVP -->
  <ServiceEndpoints>...</ServiceEndpoints>
  <Webhooks>...</Webhooks>
  <!-- post-MVP -->

  <!-- post-post-MVP -->
  <Workflows>Maybe not as they're being deprecated..?</Workflows>
  <!-- post-post-MVP -->

</PluginManifest>